<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>my_exceptions.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>my_exceptions.h</h1><a href="my__exceptions_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00006 <font class="preprocessor">#ifndef __MY_EXCEPTIONS_H</font>
00007 <font class="preprocessor"></font><font class="preprocessor">#define __MY_EXCEPTIONS_H</font>
00008 <font class="preprocessor"></font>
00009 <font class="keyword">extern</font> <font class="stringliteral">"C"</font> {
00010 <font class="preprocessor">#include &lt;errno.h&gt;</font>
00011 <font class="preprocessor">#include &lt;gdbm.h&gt;</font>
00012 }
00013 
00014 <font class="preprocessor">#include &lt;exception&gt;</font>
00015 <font class="preprocessor">#include &lt;string&gt;</font>
00016 
00017 
00018 <font class="keyword">using</font> <font class="keyword">namespace </font>std;
00019 <font class="comment">//extern int errno;</font>
00020 
00021 
00022 
00023 
<a name="l00028"></a><a class="code" href="classFileError.html">00028</a> <font class="keyword">class </font><a class="code" href="classFileError.html">FileError</a> : <font class="keyword">public</font> exception { <font class="comment">//exception class</font>
00029 
00030     <font class="keywordtype">int</font> num;
00031     std::string msg;
00032 
00033 <font class="keyword">public</font>:
00034     <font class="keywordtype">char</font> *what() { <font class="keywordflow">return</font> (<font class="keywordtype">char</font> *)msg.c_str();}
00035     <font class="keywordtype">int</font> err() { <font class="keywordflow">return</font> num; }
00036     
00037     <a class="code" href="classFileError.html">FileError</a>(<font class="keyword">const</font> <font class="keywordtype">char</font>* zprava, <font class="keywordtype">int</font> i=-1) { msg = zprava; num = i; }
00038     ~<a class="code" href="classFileError.html">FileError</a>() <font class="keywordflow">throw</font>() {} <font class="comment">//pokud to tu neni, bouri se prekladac</font>
00039 };
00040 
00041 
00042 
00043 
00044 
<a name="l00051"></a><a class="code" href="classGdbmError.html">00051</a> <font class="keyword">class </font><a class="code" href="classGdbmError.html">GdbmError</a> : <font class="keyword">public</font> exception { 
00052     <font class="keywordtype">int</font>    num;
00053     <font class="keywordtype">int</font>    gdbm_err;
00054     <font class="keywordtype">char</font> * msg;
00055     
00056 <font class="keyword">public</font>:
<a name="l00058"></a><a class="code" href="classGdbmError.html#a0">00058</a>     <a class="code" href="classGdbmError.html#a0">GdbmError</a>() {
00059         msg      = gdbm_strerror(gdbm_errno);
00060         num      = errno;
00061         gdbm_err = gdbm_errno;
00062     }
00063     
<a name="l00065"></a><a class="code" href="classGdbmError.html#a1">00065</a>     <font class="keywordtype">char</font> *<a class="code" href="classGdbmError.html#a1">what</a>() { <font class="keywordflow">return</font> msg; }
00066     <font class="keywordtype">int</font> GetErrno() { <font class="keywordflow">return</font> num;}
00067     <font class="keywordtype">int</font> GetGdbmErrno() { <font class="keywordflow">return</font> gdbm_err; }
00068 }; 
00069 
00070 
<a name="l00075"></a><a class="code" href="classVFSError.html">00075</a> <font class="keyword">class </font><a class="code" href="classVFSError.html">VFSError</a> : <font class="keyword">public</font> exception {
00076     <font class="keywordtype">int</font> num; <font class="comment">//hlavni cislo chyby</font>
00077     <font class="keywordtype">int</font> sub_num; <font class="comment">//vedlejsi cislo chyby</font>
00078     string msg;
00079 
00080 <font class="keyword">public</font>:
00081     <a class="code" href="classVFSError.html">VFSError</a>(<font class="keyword">const</font> <font class="keywordtype">char</font> * _msg, <font class="keywordtype">int</font> _num = -1, <font class="keywordtype">int</font> _sub_num = 0) {
00082         msg = _msg;
00083         num = _num;
00084         sub_num = _sub_num; 
00085     }
00086     ~<a class="code" href="classVFSError.html">VFSError</a>() <font class="keywordflow">throw</font>() {} <font class="comment">//pokud to tu neni, bouri se prekladac</font>
00087 
00088     <font class="keywordtype">char</font> *what() { <font class="keywordflow">return</font> (<font class="keywordtype">char</font> *)msg.c_str(); }
00089     <font class="keywordtype">int</font> ErrorNum() { <font class="keywordflow">return</font> num; }
00090     <font class="keywordtype">int</font> ErrorSubNum() { <font class="keywordflow">return</font> sub_num; }
00091 };
00092 
00093 <font class="preprocessor">#endif</font>
00094 <font class="preprocessor"></font>
</pre></div><hr><address><small>Generated on Fri Sep 19 10:13:26 2003 for smallFTPd by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
